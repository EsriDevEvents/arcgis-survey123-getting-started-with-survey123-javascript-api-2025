{"version":3,"file":"task-info.js","sourceRoot":"","sources":["../../../../src/components/task-list/task-info/task-info.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Fragment, Host, Element, Prop, State,  h, Event, EventEmitter } from '@stencil/core';\nimport { TranslateService } from '../../../services/translate.service';\nimport { UtilService } from '../../../services/util.service';\nimport { ReportService } from '../../../services/report.service';\n// import { PropsService } from '../../../services/props.service';\nimport { StateService } from '../../../services/state.service';\n\n@Component({\n  tag: 'task-info',\n  styleUrl: 'task-info.scss',\n  shadow: true,\n})\nexport class ReportTaskInfo {\n  @Prop() job: any;\n  @Prop() showDetail: string;\n  @Prop() detailedStatus: string;\n  @Prop() detailedStatusEle: string;\n\n  @State() isWaitingToConfirmRemove: boolean;\n  @State() isRemoving: boolean;\n  @State() isCanceling: boolean;\n  @Event() jobRemoved: EventEmitter<any>;\n  \n  @Element() host: HTMLElement;\n  \n  public isRTL: boolean = false;\n  public jobId: string;\n  private langTasks: any;\n  private langCommon: any;\n  // private helperSpan: HTMLElement;\n\n  public statusI18nConfig: any;\n  public maxFailedOIDLength = 120;\n  private utils: UtilService = UtilService.getService();\n  private reportService: ReportService = ReportService.getService();\n  private stateService: StateService = StateService.getService();\n\n  // todo: should show basic info first, then get the detail\n  componentWillLoad() {\n    this.jobId = this.job?.jobId;\n    return Promise.resolve(true)\n    // .then(() => {\n    //   return TranslateService.getService().getTranslate();\n    // })\n    .then(() => {\n      const res = TranslateService.getService().getTranslateSync();\n      const langTasks = res?.customPrint.recentTasks;\n      this.langCommon = res?.common;\n      this.langTasks = langTasks;\n      this.statusI18nConfig = {\n        esriJobWaiting: langTasks.jobStatusWaiting,\n        esriJobSubmitted: langTasks.jobStatusSubmitted,\n        esriJobExecuting: langTasks.jobStatusExecuting,\n        esriJobSucceeded: langTasks.jobStatusSucceeded,\n        esriJobFailed: langTasks.jobStatusFailed,\n        pdfConverting: langTasks.pdfConverting,\n        pdfConverted: langTasks.pdfConverted,\n        dfConvertFailed: langTasks.dfConvertFailed\n      };\n      this.stateService.subscribe('job-updated', (data) => {\n        if (data?.jobId === this.job?.jobId) {\n          this.job = {...data};\n          this.jobId = this.job?.jobId;\n          this.updateJobStatusString();\n        }\n      })\n      return true;\n    }).then(() => {\n      // do not add \"return\" here, otherwise the component will not render until status request finished.\n      this.reportService.checkJobDetails(this.job).then(() => {\n        this.jobId = this.job?.jobId;\n        this.detailedStatus = this.job.jobStatusInfo?.detailedStatus;\n        this.updateJobStatusString();\n        return this.job;\n      })\n    });\n\n  }\n\n  public getPercentage(p) {\n    const utilService: UtilService = UtilService.getService();\n    return utilService.getPercentage(this.job, p);\n  }\n\n  public updateJobStatusString() {\n    this.detailedStatus = this.job.jobStatusInfo?.detailedStatus;\n    const i18nMapping = {\n      preparing: 'jobStatusPrinting',\n      'printing,printed,printFailed': 'jobStatusPrinting',\n      'pdfConverting,pdfConverted,pdfConvertFailed': 'jobStatusConverting',\n      'merging': 'jobStatusMerging',\n      'packaging,packaged,packageFailed': 'jobStatusPackaging',\n      'uploading,uploadFailed': 'jobStatusUploading'\n    };\n    const matchedKey = Object.keys(i18nMapping).find((key) => {\n      return key.split(',').indexOf(this.detailedStatus) >= 0;\n    })\n    const i18nStr = this.langTasks[i18nMapping[matchedKey]] || '';\n    if (!this.job.jobStatus) {\n      this.detailedStatusEle ='';\n    }\n    if (['esriJobWaiting','esriJobSubmitted','esriJobExecuting'].indexOf(this.job.jobStatus) > -1) {\n      if (this.job.jobStatus=='esriJobExecuting' && this.job.jobStatusInfo && this.detailedStatus) {\n        const progress = this.detailedStatus === 'preparing' ? 0 : null\n        const progressPercent = this.getPercentage(progress);\n        this.detailedStatusEle = <span>{i18nStr.replace('${$completedPercent}', `${progressPercent}`)}</span>;\n      }\n    } else {\n      if (this.job.jobStatus=='esriJobExecuting' && (!this.job.jobStatusInfo || !this.detailedStatus)) {\n        this.detailedStatusEle = <span>{this.langTasks.jobStatusPrinting}</span>;\n      } else {\n        this.detailedStatusEle = <span>{this.statusI18nConfig[this.job.jobStatus]}</span>;\n      }\n    }\n  }\n\n  public getDuration(start, end, cancelled?) {\n    const hourUnit = this.langCommon.timeUnitHour;\n    const miniUnit = this.langCommon.timeUnitMinute;\n    const secUnit = this.langCommon.timeUnitSecond;\n    let duration = '';\n    if (!end && cancelled) {\n      end = cancelled;\n    }\n    const miliSecond = end - start;\n    if (miliSecond > 0) {\n      const seconds = Math.round(miliSecond / 1000);\n      const hours = Math.floor(seconds / 3600);\n      const minus = Math.floor((seconds % 3600) / 60);\n      const sec = seconds % 60;\n      if (hours > 0) {\n        duration += hours + hourUnit + ' ';\n      }\n      if (minus > 0 || hours > 0) {\n        duration += minus + miniUnit + ' ';\n      }\n      duration += sec + secUnit;\n    }\n    return duration;\n  }\n\n  public showDetailHandler() {\n    if (!this.job.resultInfo?.resultFiles && !this.job.resultInfo?.details) {\n      this.showDetail = 'pending';\n      this.reportService.checkJobStatus(this.job.jobId).then((statusObj) => {\n        // this.state.trigger('report-updateJobDetail', statusObj);\n        // this.updateFailedOIDlength(statusObj);\n        this.job = statusObj;\n        this.jobId = this.job.jobId;\n        this.showDetail = 'done';\n        // this.showDetail();\n      });\n    } else {\n      // this.updateFailedOIDlength(this.job);\n      this.showDetail = 'done';\n      // this.showDetail();\n    }\n  }\n\n  public hideDetail() {\n    this.showDetail = '';\n  }\n\n  /**\n   * execute removing job\n   * @param job \n   */\n  public executeRemoveJob(job) {\n    // if (job._tempRuntime) {\n    //   delete this.isWaitingToConfirmRemove;\n    // }\n    // job._tempRuntime = job._tempRuntime || {};\n    this.isWaitingToConfirmRemove = false;\n    this.isRemoving = true;\n    // https://devtopia.esri.com/Beijing-R-D-Center/feature-report/issues/239#issuecomment-3550777\n    this.reportService.removeJob(job.jobId).then((res) => {\n      if (!res || !res.success) {\n        console.log('Remove job failed', (res.error && res.error.details && res.error.details.length) ? res.error.details.join('.') : '');\n        this.reportService.showError({}, {errorStr: res.error?.message , detail:res.error?.detail, showDetails: !!res.error?.detail});\n        // this.alertService.setOption({\n        //   alertType: 'danger',\n        //   html: (res.error && res.error.message) ? res.error.message : 'Failed to remove the task.',\n        //   detail: (res.error && res.error.details && res.error.details.length) ? res.error.details.join('<br>') : ''\n        // }).show();\n      } else {\n        // this.state.trigger('report-remove-job', job);\n        // todo: tell the parent component to remove this job\n        // this.reportService.removeJobFromList(job);\n        this.jobRemoved.emit(job);\n        this.isWaitingToConfirmRemove = false;\n      }\n      this.isRemoving = false;\n    }).catch(() => {\n      // toto: use string to replace the hard coded 'Failed to remove the task.' in 3.16\n      // this.customReportService.showError(res, {errorStr: 'Failed to remove the task.', showDetails: true});\n      // this.alertService.setOption({\n      //   alertType: 'danger',\n      //   html: 'Failed to remove the task.',\n      //   detail: (res && res.error && res.error.message) ? res.error.message : ''\n      // }).show();      \n      this.isRemoving = false;\n\n    });  \n  }\n\n  /**\n   * cancel removing job\n   * @param job \n   */\n  public cancelRemoveJob() {\n    this.isWaitingToConfirmRemove = false;\n  }\n\n  /**\n   * remove job\n   * @param job \n   */\n  public startRemoveJob() {\n    this.isWaitingToConfirmRemove = true;\n  }\n\n  private startCancelJob(job) {\n    this.isCanceling = true;\n    // https://devtopia.esri.com/Beijing-R-D-Center/feature-report/issues/239#issuecomment-3550777\n    this.reportService.cancelJob(job.jobId).then((res) => {\n      if (!res || !res.success) {\n        console.log('Cancel job failed');\n        this.reportService.showError({}, {errorStr: res.error?.message , detail:res.error?.detail, showDetails: !!res.error?.detail});\n        // this.customReportService.showError(res, {errorStr: this.recentTasksString.cancelJobFailMsg, detail: ((res.error && res.error.details && res.error.details.length) ? res.error.details.join('<br>') : '')});\n      } else {\n        // success to cancel job\n        // this.state.trigger('report-cancel-job', job);\n        job.jobStatus = 'esriJobStatusCancelled';\n        job = {...job};\n      }\n      delete job._tempRuntime.isCanceling;\n    }).catch(() => {\n      // this.customReportService.showError(res, {errorStr: this.recentTasksString.cancelJobFailMsg, showDetails: true});\n      // this.alertService.setOption({\n      //   alertType: 'danger',\n      //   html: 'Failed to cancel the task.',\n      //   detail: (res && res.error && res.error.message) ? res.error.message : ''\n      // }).show();\n\n      this.isCanceling = false;\n    });\n  }\n\n  render() {\n    return (\n      <Host>\n        <calcite-card class={`root ${!this.job ? 'hidden' : ''} `}>\n\n          { this.job ? \n              <div class={`job-info ${this.showDetail ? 'hasDetail' : ''}`}>\n\n              <i class=\"status-icon\">\n                {/* executing start */}\n                {/* todo: show tooltip */}\n                {['esriJobWaiting','esriJobSubmitted','esriJobExecuting'].indexOf(this.job.jobStatus)>=0 ? <calcite-icon scale=\"s\" icon=\"hourglass-active\" text-label={this.statusI18nConfig[this.job.jobStatus]}></calcite-icon> : ''}\n                { this.job.jobStatus=='esriJobSucceeded' ? <report-icon icon=\"success\"></report-icon> : ''}\n                {/* { this.job.jobStatus=='esriJobSucceeded' ? <calcite-icon scale=\"s\" icon=\"check-circle\" text-label={this.langTasks.jobStatusSucceeded}></calcite-icon> : ''} */}\n                {/* todo: implement the partial succeed icon */}\n                { this.job.jobStatus=='esriJobPartialSucceeded' ? <report-icon icon=\"success-caveat\"></report-icon> : ''}\n                {/* { this.job.jobStatus=='esriJobPartialSucceeded' ? <calcite-icon scale=\"s\" icon=\"check-circle-f\" text-label={this.langTasks.jobStatusPartialSucceeded1}></calcite-icon> : ''} */}\n                { this.job.jobStatus=='esriJobStatusCancelled' ? <calcite-icon scale=\"s\" icon=\"circle-disallowed\" text-label={this.langTasks.jobStatusCanceled}></calcite-icon> : ''}\n                { this.job.jobStatus=='esriJobFailed' ? <calcite-icon scale=\"s\" icon=\"x-circle\" text-label={this.langTasks.jobStatusFailed}></calcite-icon> : ''}\n              </i>\n\n              <div class=\"detail\">\n                <p class=\"header\">\n                  { this.job.resultInfo ? this.job.resultInfo.title : ''}\n                  {/* todo: in the rtl layout, the icon should be flipped */}\n                  { this.job.inputInfo&&this.job.inputInfo.parameters&&this.job.inputInfo.parameters.outputFormat=='pdf' ? \n                  <calcite-icon scale=\"s\" icon={this.isRTL ? '' : 'file-pdf'} text-label=\"\"></calcite-icon> \n                  : <calcite-icon scale=\"s\" icon={this.isRTL ? '' : 'file-word'} text-label=\"\"></calcite-icon>}\n                </p>\n\n                { !(this.isWaitingToConfirmRemove) ? \n                  <p class=\"middle-line\">\n                    <span class=\"records\">{this.langTasks.records}{this.job.resultInfo&&this.job.resultInfo.totalCount?this.job.resultInfo.totalCount:''}</span>\n                    <span class=\"startTime\" title={this.utils.formatDateTime(this.job.submitted, 'datetime')}>{this.langTasks.started}{this.utils.formatDateTime(this.job.submitted, 'time')}</span>\n                  </p> : ''\n                }\n\n                { !(this.isWaitingToConfirmRemove) ? \n                  <p class=\"status\">\n                    { ['esriJobWaiting','esriJobSubmitted','esriJobExecuting'].indexOf(this.job.jobStatus) > -1 ? \n                      <span>{this.langTasks.status} {this.detailedStatusEle} </span>\n                      : \n                      <Fragment>\n                        { ['esriJobWaiting','esriJobSubmitted','esriJobExecuting'].indexOf(this.job.jobStatus) == -1 ?\n                          <span>\n                            {this.langTasks.duration} {this.getDuration(this.job.submitted, this.job.completed, this.job.cancelled)}\n                          </span> : ''\n                        }\n                      </Fragment>\n                    }\n                    \n                  { this.job.jobStatus=='esriJobPartialSucceeded'||this.job.jobStatus=='esriJobFailed' ? \n                    <Fragment>\n                      {!this.showDetail ? \n                        <a class=\"job-detail-link\"\n                          onClick={() => this.showDetailHandler()}>{this.langCommon.showDetails}</a>\n                        : ''\n                      }\n                      {this.showDetail=='pending' ? \n                        <a class=\"job-detail-link job-detail-pending\">\n                          {this.langCommon.loading}\n                          <i class=\"icon icon-spin disabled\">\n                            <calcite-loader label=\"\" inline=\"true\"></calcite-loader>\n                            {/* <survey123-ui-spinner class=\"spinner\" [iconColor]=\"'#666'\"></survey123-ui-spinner> */}\n                          </i>\n                        </a> : ''\n                      }\n\n                      {this.showDetail=='done' ?\n                        <a class=\"job-detail-link\"\n                        onClick={() => this.hideDetail()}>{this.langCommon.hideDetails}</a>\n                        : ''\n                      }\n\n                    </Fragment>\n                  : ''}\n                  </p> : \n                  <Fragment>\n                    {this.isWaitingToConfirmRemove ? \n                      <Fragment>\n                        <p>{this.langTasks.removeJobConfirm}</p>\n                        <p>\n                          <a class=\"confirm-delete-anchor\" onClick={() => this.executeRemoveJob(this.job)}>{this.langCommon.yes}</a>\n                          <a class=\"cancel-delete-anchor\" onClick={() => this.cancelRemoveJob()}>{this.langCommon.no}</a>\n                        </p>\n                      </Fragment> : ''\n                    }\n                  </Fragment>\n                }\n                {!this.isWaitingToConfirmRemove ? \n                  <div class=\"icon-area dropdown\">\n                   {/* url expired, cannot download */}\n                   {this.job.jobStatus=='esriJobSucceeded'&&this.job.urlExpired ? \n                    <a>\n                      <calcite-icon scale=\"s\" icon=\"download\" text-label=\"\" disabled id={this.jobId + '-disabled-btn'}></calcite-icon>\n                      <calcite-tooltip label={this.langTasks.downloadDisabledTip} reference-element={this.jobId + '-disabled-btn'}>\n                        <span>{this.langTasks.downloadDisabledTip}</span>\n                      </calcite-tooltip>\n                    </a>: ''\n                  }\n\n                  {/* download */}\n                  {(this.job.jobStatus=='esriJobSucceeded'||this.job.jobStatus=='esriJobPartialSucceeded')&&this.job.url&&!this.job.urlExpired&&!this.job.multipleFiles ?\n                    <a href={this.job.url}  title={this.langCommon.download} download target={this.job.inputInfo&&this.job.inputInfo.parameters&&this.job.inputInfo.parameters.outputFormat=='pdf'?'_blank':''}>\n                      <i class=\"download-icon\">\n                        <calcite-icon scale=\"s\" icon=\"download\" text-label=\"\"></calcite-icon>\n                      </i>\n                    </a>\n                    : ''\n                  }\n\n          \n                  {/* download multiple files */}\n                  {(this.job.jobStatus=='esriJobSucceeded'||this.job.jobStatus=='esriJobPartialSucceeded')&&this.job.multipleFiles&&!this.job.urlExpired ? \n                    <a class=\"dropdown-toggle\">\n                    <calcite-dropdown width=\"m\" placement=\"bottom-end\" type=\"click\">\n                      <i  slot=\"trigger\" class=\"download-icon\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        <calcite-icon scale=\"s\" icon=\"download\" text-label=\"\"></calcite-icon>\n                      </i>\n                      {this.job.resultInfo.resultFiles.map((file) => {\n                          return <calcite-dropdown-item>\n                                  <div class=\"menu-item\">\n                                    <a href={file.url} title={file.name}>\n                                      <span class=\"left-text\">{file.name || ''}</span>\n                                    </a>\n                                    <span class=\"right-text\">{file.size || ''}</span>\n                                  </div>\n                                </calcite-dropdown-item>;\n                        })}\n                    </calcite-dropdown>\n                    </a> : ''  \n                  }\n\n          \n                  {/* cancel job, job can be cancled before uploading process */}\n                  { ['esriJobSubmitted', 'esriJobExecuting', 'esriJobWaiting'].indexOf(this.job.jobStatus)>=0 &&!(this.job.jobStatus=='esriJobExecuting'&&this.job.jobStatusInfo&&this.detailedStatus&&['uploading', 'uploadFailed', 'uploadSucceeded', 'usageSent', 'usageSentFailed', 'skipCharging'].indexOf(this.detailedStatus)>=0) ?\n                    <a class={this.isCanceling ? 'isloading' : ''} title={(this.isCanceling)?'':`${this.langTasks.cancelJobTip}`}>\n                      { !(this.isCanceling) ? \n                        <i class=\"download-icon\" onClick={() => this.startCancelJob(this.job)}>\n                          <calcite-icon scale=\"s\" icon=\"circle-stop\" text-label=\"\"></calcite-icon>\n                        </i>\n                        :\n                        <i class=\"download-icon spinner\">\n                          {/* todo: icon color is #666666 */}\n                          <calcite-loader label={this.langTasks.jobStatusCanceled} inline=\"true\"></calcite-loader>\n                        </i>\n                      }\n                    </a>\n                    : ''\n                  }\n\n                  {/* remove job */}\n                  { ['esriJobSucceeded', 'esriJobPartialSucceeded', 'esriJobFailed', 'esriJobStatusCancelled'].indexOf(this.job.jobStatus)>=0 ? \n                    <a class={this.isRemoving ? 'isloading' : ''} title={(this.isRemoving)?'':`${this.langTasks.removeJobTip}`}>\n                      {this.isRemoving}\n                      {!this.isRemoving ? \n                        <i class=\"download-icon\" onClick={() => this.startRemoveJob()}>\n                          <calcite-icon scale=\"s\" icon=\"trash\" ></calcite-icon>\n                        </i>\n                        :\n                        <i class=\"download-icon spinner\">\n                        {/* todo: icon color is #666666 */}\n                          <calcite-loader label=\"\" inline=\"true\"></calcite-loader>\n                        </i>\n                      }\n                    </a>\n                    : null\n                  }\n\n                </div> : ''\n                }\n                \n\n              </div>\n            </div> : ''\n          }\n          {this.job&&this.showDetail=='done' ? \n            <div class=\"job-detail\">\n              <detail-table job={this.job}></detail-table>\n            </div>\n            : ''\n          }\n\n          </calcite-card>\n        <slot></slot>\n      </Host>\n    );\n  }\n\n}\n"]}
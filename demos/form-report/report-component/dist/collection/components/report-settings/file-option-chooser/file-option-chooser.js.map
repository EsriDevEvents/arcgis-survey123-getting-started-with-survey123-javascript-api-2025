{"version":3,"file":"file-option-chooser.js","sourceRoot":"","sources":["../../../../src/components/report-settings/file-option-chooser/file-option-chooser.tsx"],"names":[],"mappings":"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","sourcesContent":["import { Component, Host, Prop, EventEmitter, State, Event, h } from '@stencil/core';\nimport mergeContinuousIcon from './assets/svg/Merge_Continuous.svg';\nimport splitIcon from './assets/svg/Split.svg';\nimport mergeNextPageIcon from './assets/svg/Merge_Next_Page.svg';\nimport { TranslateService } from '../../../services/translate.service';\nimport { StateService } from '../../../services/state.service';\n@Component({\n  tag: 'file-option-chooser',\n  styleUrl: 'file-option-chooser.scss',\n  shadow: true,\n})\nexport class FileOptionChooser {\n\n  @Prop({reflect: true }) fileOption: 'none' | 'nextPage' | 'continuous' = 'none';\n  @Event() fileOptionChange: EventEmitter<any>;\n\n  private ele: any;\n  @State() translator: any;\n  @State() langReport: any;\n  private state: StateService = StateService.getService();\n\n  componentWillLoad() {\n    return Promise.resolve(true)\n    // .then(() => {\n    //   TranslateService\n    //   return TranslateService.getService().getTranslate();\n    // })\n    .then(() => {\n      const res = TranslateService.getService().getTranslateSync();\n      this.translator = res;\n      this.langReport = res?.customPrint;\n      this.state.subscribe('locale-data-changed', (data) => {\n        this.translator = data;\n        this.langReport = data?.customPrint;\n      });\n    })\n  }\n\n  /**\n   * selet item\n   * @param type \n   */\n  public selectItem(type: 'none' | 'nextPage' | 'continuous') {\n    this.fileOption = type;\n    this.fileOptionChange.emit(this.fileOption);\n    this.ele.open = false;\n    if (this.fileOption) {\n      this.ele.value = {\n        split: this.translator?.customPrint?.outputModeSplit,\n        nextPage: this.translator?.customPrint?.outputModeMergeNextPage,\n        continuous: this.translator?.customPrint?.outputModeMergeContinuous\n      }[this.fileOption];\n    } else {\n      this.ele.value = null;\n    }\n    // this.ele.shadowRoot.querySelector('input').value = this.fileOption; // todo: convert to the label\n  }\n\n  private svgs = {\n    mergeContinuousIcon: mergeContinuousIcon, // getAssetPath('./assets/svg/Merge_Continuous.svg'),\n    splitIcon: splitIcon, // getAssetPath('./assets/svg/Split.svg'),\n    mergeNextPageIcon: mergeNextPageIcon //getAssetPath('./assets/svg/Merge_Next_Page.svg')\n  };\n\n  render() {\n    return (\n      <Host>\n        <calcite-label>\n          {this.translator?.customPrint?.outputMode}\n          {/* todo: if the selection count is 0 or 1, the dropdown should be disabled */}\n          <calcite-combobox ref={(el) => (this.ele = el)} clearDisabled=\"true\"  placeholder={this.translator?.customPrint?.outputMode} selection-mode=\"single-persist\">\n             {/* the calcite-combobox-item is just a placeholder, it's hidden */}\n            <calcite-combobox-item value={this.translator?.customPrint?.outputModeSplit} style={{display: 'none'}} selected={this.fileOption==='none'} text-label={this.translator?.customPrint?.outputModeSplit}></calcite-combobox-item>\n            <calcite-combobox-item value={this.translator?.customPrint?.outputModeMergeNextPage} style={{display: 'none'}} selected={this.fileOption==='nextPage'} text-label={this.translator?.customPrint?.outputModeMergeNextPage}></calcite-combobox-item>\n            <calcite-combobox-item value={this.translator?.customPrint?.outputModeMergeContinuous} style={{display: 'none'}} selected={this.fileOption==='continuous'} text-label={this.translator?.customPrint?.outputModeMergeContinuous}></calcite-combobox-item>\n            <ul class=\"dropdown-menu\" role=\"menu\">\n              <li onClick={() => {this.selectItem('none')}}>\n              {/* <a class=\"option-wrapper\"> */}\n                <div class=\"file-option-item\">\n                  <img class=\"bubble__avatar-thumbnail\" src={this.svgs.splitIcon}></img>\n                  <div>\n                    <p class='title'>{this.translator?.customPrint?.outputModeSplit}</p>\n                    <p class='desc'>\n                      {this.translator?.customPrint?.outputModeSplitDesc}\n                    </p>\n                  </div>\n                </div>\n              {/* </a> */}\n            </li>\n            <li onClick={() => {this.selectItem('nextPage')}}>\n              {/* <a class=\"option-wrapper\"> */}\n                <div class=\"file-option-item\">\n                  <img class=\"bubble__avatar-thumbnail\" src={this.svgs.mergeNextPageIcon}></img>\n                  <div>\n                    <p class='title'>{this.translator?.customPrint?.outputModeMergeNextPage}</p>\n                    <p class='desc'>\n                    {this.translator?.customPrint?.outputModeMergeNextPageDesc}\n                    </p>\n                  </div>\n                </div>\n              {/* </a> */}\n            </li>\n            <li onClick={() => {this.selectItem('continuous')}}>\n              {/* <a class=\"option-wrapper\"> */}\n                <div class=\"file-option-item\">\n                  <img class=\"bubble__avatar-thumbnail\" src={this.svgs.mergeContinuousIcon}></img>\n                  <div>\n                    <p class='title'>{this.translator?.customPrint?.outputModeMergeContinuous}</p>\n                    <p class='desc'>\n                      {this.translator?.customPrint?.outputModeMergeContinuousDesc}                 \n                    </p>\n                  </div>\n                </div>\n              {/* </a> */}\n            </li>\n          </ul>\n          </calcite-combobox>\n        </calcite-label>\n        <slot></slot>\n      </Host>\n    );\n  }\n\n}\n"]}
{"version":3,"names":["errorDetailModalCss","ErrorDetailModalStyle0","ErrorDetailModal","componentWillLoad","this","utilService","UtilService","getService","Promise","resolve","then","TranslateService","getTranslate","res","langTasks","customPrint","recentTasks","langCommon","common","componentDidRender","updateFailedOIDlength","job","maxFailedOIDLength","len","helperDiv","modal","shadowRoot","querySelector","failedInfo","length","forEach","info","innerHTML","objectIds","offsetWidth","render","h","Host","key","class","open","onCalciteModalClose","id","slot","detailFailedOIDs","resultInfo","failedObjectIds","style","maxHeight","errorModalMaxHeight","overflow","width","detailStatusMsg","map","detail","parseMarkdown","messages","successDetailModalCss","SuccessDetailModalStyle0","SuccessDetailModal","getTranslateSync","detailSucceededOIDs","succeededObjectIds","maxWidth"],"sources":["src/components/task-list/detail-table/error-detail-modal/error-detail-modal.scss?tag=error-detail-modal&encapsulation=shadow","src/components/task-list/detail-table/error-detail-modal/error-detail-modal.tsx","src/components/task-list/detail-table/success-detail-modal/success-detail-modal.scss?tag=success-detail-modal&encapsulation=shadow","src/components/task-list/detail-table/success-detail-modal/success-detail-modal.tsx"],"sourcesContent":[":host {\n  display: block;\n  \n  .helper {\n    width: 0;\n    height: 0;\n    overflow: hidden;\n    visibility: hidden;\n    div {\n      width: 9999px;\n    }\n    span {\n      padding: 8px;\n    }\n  }\n  .error-table-outter {\n    width: 100%;\n    // padding: 15px;\n    overflow: auto;\n  }\n\n  .table {\n    width: 100%;\n    max-width: 100%;\n    margin-bottom: 20px;\n    border-spacing: 0;\n    border-collapse: collapse;\n  }\n  .table > thead > tr > th,\n  .table > tbody > tr > th,\n  .table > tfoot > tr > th,\n  .table > thead > tr > td,\n  .table > tbody > tr > td,\n  .table > tfoot > tr > td {\n    padding: 8px;\n    line-height: 1.42857143;\n    vertical-align: top;\n    border-top: 1px solid #dddddd;\n  }\n  .table-bordered > thead > tr > th,\n  .table-bordered > tbody > tr > th,\n  .table-bordered > tfoot > tr > th,\n  .table-bordered > thead > tr > td,\n  .table-bordered > tbody > tr > td,\n  .table-bordered > tfoot > tr > td {\n    border: 1px solid #dddddd;\n  }\n  .table > thead > tr > th {\n    vertical-align: bottom;\n    border-bottom: 2px solid #dddddd;\n  }\n\n\n  .table-bordered {\n    border: 1px solid #ddd;\n  }\n\n  .error-table {\n    margin-bottom: 0;\n    table-layout: fixed;  \n\n    .objectId-td {\n      width: 120px;\n      max-width: 254px;\n      overflow: hidden;\n      word-wrap: break-word;\n    }\n\n    .message {\n      max-width: 560px;\n      overflow: auto;\n      word-wrap: break-word;\n    }\n  }\n\n}\n","import { Component, Host, Prop, State, Element, h } from '@stencil/core';\nimport { TranslateService } from '../../../../services/translate.service';\nimport { UtilService } from '../../../../services/util.service';\n\n@Component({\n  tag: 'error-detail-modal',\n  styleUrl: 'error-detail-modal.scss',\n  shadow: true,\n})\nexport class ErrorDetailModal {\n  @Prop() job: any;\n  @Prop() open: boolean;\n  @State() maxFailedOIDLength: number;\n  \n  @Element() modal: any;\n  public errorModalMaxHeight: number;\n\n  private langTasks: any;\n  public langCommon: any;\n  private utilService: UtilService;\n\n  componentWillLoad() {\n    this.utilService = UtilService.getService();\n    return Promise.resolve(true)\n    .then(() => {\n      return TranslateService.getService().getTranslate();\n    })\n    .then((res) => {\n      const langTasks = res.customPrint.recentTasks;\n      this.langTasks = langTasks;\n      this.langCommon = res.common;\n      // this.updateFailedOIDlength(this.job);\n    })\n  }\n  \n  componentDidRender() {\n    this.updateFailedOIDlength(this.job);\n  }\n  private updateFailedOIDlength(job) {\n    if (this.maxFailedOIDLength > 0) {\n      return;\n    }\n    let len = 120;\n    const helperDiv = this.modal.shadowRoot.querySelector('.helperSpan');\n    if (job.failedInfo && job.failedInfo.length && helperDiv) {\n      job.failedInfo.forEach((info) => {\n        helperDiv.innerHTML = info.objectIds;\n        if (helperDiv.offsetWidth > len) {\n          len = helperDiv.offsetWidth;\n        }\n      });\n    }\n    this.maxFailedOIDLength = len;\n    return len;\n  }\n\n  render() {\n    return (\n      <Host>\n        {/* helper div the get the max width of the failed objectIds  */}\n        <div class=\"helper\">\n          <div>\n            <span class=\"helperSpan\"></span>\n          </div>\n        </div>\n        <calcite-modal open={this.open} aria-labelledby=\"modal-title\" onCalciteModalClose={() => {this.open=false;}} id=\"example-modal\">\n          <div slot=\"header\" id=\"modal-title\">\n            {this.langTasks.detailFailedOIDs}\n            {this.job.resultInfo&&this.job.resultInfo.failedObjectIds&&this.job.resultInfo.failedObjectIds.length ? ' (' + this.job.resultInfo.failedObjectIds.length + ') ' : '' }\n          </div>\n          <div slot=\"content\">\n            <div class=\"error-table-outter\" style={{maxHeight: `${this.errorModalMaxHeight}`, overflow:'auto'}}>\n              { this.job&&this.job.failedInfo&&this.job.failedInfo.length ?\n                <table class=\"table table-striped table-bordered error-table\">\n                <thead>\n                  <tr>\n                    <th class=\"objectId-td\" style={{width: `${this.maxFailedOIDLength+16}px`}}>{this.langTasks.detailFailedOIDs}</th>\n                    <th>{this.langTasks.detailStatusMsg}</th>\n                  </tr>\n                </thead>\n                <tbody>\n                  {this.job.failedInfo.map((detail) => {\n                    return <tr>\n                            <td>\n                              <div class=\"objectId-td\" style={{width: `${this.maxFailedOIDLength}px`}}>\n                                {detail.objectIds}\n                              </div>\n                            </td>\n                            <td>\n                              <div class=\"message\" innerHTML={this.utilService.parseMarkdown(detail.messages)}>\n                              </div>\n                            </td>\n                          </tr>\n                  })}\n                </tbody>\n              </table>\n              : ''\n            }\n              \n            </div>\n          </div>\n          {/* <calcite-button slot=\"primary\" width=\"full\">\n            a{this.langCommon.ok}b\n          </calcite-button> */}\n        </calcite-modal>\n        <slot></slot>\n      </Host>\n    );\n  }\n\n}\n",":host {\n  display: block;\n\n  .error-table-outter {\n    width: 100%;\n    // padding: 15px;\n    overflow: auto;\n  }\n  .table {\n    width: 100%;\n    max-width: 100%;\n    margin-bottom: 20px;\n    border-spacing: 0;\n    border-collapse: collapse;\n  }\n  .table > thead > tr > th,\n  .table > tbody > tr > th,\n  .table > tfoot > tr > th,\n  .table > thead > tr > td,\n  .table > tbody > tr > td,\n  .table > tfoot > tr > td {\n    padding: 8px;\n    line-height: 1.42857143;\n    vertical-align: top;\n    border-top: 1px solid #dddddd;\n  }\n  .table-bordered > thead > tr > th,\n  .table-bordered > tbody > tr > th,\n  .table-bordered > tfoot > tr > th,\n  .table-bordered > thead > tr > td,\n  .table-bordered > tbody > tr > td,\n  .table-bordered > tfoot > tr > td {\n    border: 1px solid #dddddd;\n  }\n\n  .table > thead > tr > th {\n    vertical-align: bottom;\n    border-bottom: 2px solid #dddddd;\n  }\n\n  .table-bordered {\n    border: 1px solid #ddd;\n  }\n  .error-table {\n    margin-bottom: 0;\n    table-layout: fixed;  \n\n    .objectId-td {\n      width: 120px;\n      max-width: 254px;\n      overflow: hidden;\n      word-wrap: break-word;\n    }\n\n    .message {\n      max-width: 560px;\n      overflow: auto;\n      word-wrap: break-word;\n    }\n  }\n\n}\n","import { Component, Host, Prop, Element, h } from '@stencil/core';\nimport { TranslateService } from '../../../../services/translate.service';\n\n@Component({\n  tag: 'success-detail-modal',\n  styleUrl: 'success-detail-modal.scss',\n  shadow: true,\n})\nexport class SuccessDetailModal {\n  @Prop() job: any;\n  @Prop() open: boolean;\n  @Element() modal: any;\n  public errorModalMaxHeight: number;\n  public maxFailedOIDLength: number;\n\n  private langTasks: any;\n  public langCommon: any;\n\n  componentWillLoad() {\n    return Promise.resolve(true)\n    // .then(() => {\n    //   return TranslateService.getService().getTranslate();\n    // })\n    .then(() => {\n      const res = TranslateService.getService().getTranslateSync();\n      const langTasks = res.customPrint.recentTasks;\n      this.langTasks = langTasks;\n      this.langCommon = res.common;\n    })\n  }\n\n  render() {\n    return (\n      <Host>\n        <calcite-modal open={this.open} onCalciteModalClose={() => {this.open=false;}} aria-labelledby=\"modal-title\" id=\"example-modal\">\n          <div slot=\"header\" id=\"modal-title\">\n            {this.langTasks.detailSucceededOIDs}\n            {this.job.resultInfo&&this.job.resultInfo.succeededObjectIds&&this.job.resultInfo.succeededObjectIds.length ? ' (' + this.job.resultInfo.succeededObjectIds.length + ') ' : '' }\n          </div>\n          <div slot=\"content\">\n            <div class=\"error-table-outter\" style={{maxHeight: `${this.errorModalMaxHeight}`}}>\n              { this.job&&this.job.resultInfo&&this.job.resultInfo.succeededObjectIds&&this.job.resultInfo.succeededObjectIds.length ?\n               <table class=\"table table-striped table-bordered error-table\">\n                <tbody>\n                  <tr>\n                    <td>\n                      <div class=\"message\" style={{maxWidth:'720px'}}>\n                        {this.job.resultInfo.succeededObjectIds}\n                      </div>\n                    </td>\n                  </tr>\n                </tbody>\n              </table>\n              : ''\n              }\n            </div>\n          </div>\n          {/* <calcite-button slot=\"primary\" width=\"full\">\n            {this.langCommon.ok}\n          </calcite-button> */}\n        </calcite-modal>\n\n        <slot></slot>\n      </Host>\n    );\n  }\n\n}\n"],"mappings":"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","ignoreList":[]}
import{r as t,h as e,H as d,a as o}from"./p-13c60fff.js";import{T as a}from"./p-33b03442.js";import{U as r}from"./p-fe40b0f4.js";const s=":host{display:block}:host .helper{width:0;height:0;overflow:hidden;visibility:hidden}:host .helper div{width:9999px}:host .helper span{padding:8px}:host .error-table-outter{width:100%;overflow:auto}:host .table{width:100%;max-width:100%;margin-bottom:20px;border-spacing:0;border-collapse:collapse}:host .table>thead>tr>th,:host .table>tbody>tr>th,:host .table>tfoot>tr>th,:host .table>thead>tr>td,:host .table>tbody>tr>td,:host .table>tfoot>tr>td{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #dddddd}:host .table-bordered>thead>tr>th,:host .table-bordered>tbody>tr>th,:host .table-bordered>tfoot>tr>th,:host .table-bordered>thead>tr>td,:host .table-bordered>tbody>tr>td,:host .table-bordered>tfoot>tr>td{border:1px solid #dddddd}:host .table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #dddddd}:host .table-bordered{border:1px solid #ddd}:host .error-table{margin-bottom:0;table-layout:fixed}:host .error-table .objectId-td{width:120px;max-width:254px;overflow:hidden;word-wrap:break-word}:host .error-table .message{max-width:560px;overflow:auto;word-wrap:break-word}";const l=s;const i=class{constructor(e){t(this,e);this.job=undefined;this.open=undefined;this.maxFailedOIDLength=undefined}componentWillLoad(){this.utilService=r.getService();return Promise.resolve(true).then((()=>a.getService().getTranslate())).then((t=>{const e=t.customPrint.recentTasks;this.langTasks=e;this.langCommon=t.common}))}componentDidRender(){this.updateFailedOIDlength(this.job)}updateFailedOIDlength(t){if(this.maxFailedOIDLength>0){return}let e=120;const d=this.modal.shadowRoot.querySelector(".helperSpan");if(t.failedInfo&&t.failedInfo.length&&d){t.failedInfo.forEach((t=>{d.innerHTML=t.objectIds;if(d.offsetWidth>e){e=d.offsetWidth}}))}this.maxFailedOIDLength=e;return e}render(){return e(d,{key:"81b21c37ba79081bd7ea428728ba5282a28370d1"},e("div",{key:"7466c40d62a608ab8b78f41fb2aa47c766c8be55",class:"helper"},e("div",{key:"e603e24f3ab2b099cf05221868c29bd4ad55edd6"},e("span",{key:"1538f25833d40d862430b0067a877c6856f1ec4d",class:"helperSpan"}))),e("calcite-modal",{key:"4f9f0e140f7f2aa8987dc2597148d8285f85baad",open:this.open,"aria-labelledby":"modal-title",onCalciteModalClose:()=>{this.open=false},id:"example-modal"},e("div",{key:"de54acb19422540bda3d1ac22765d9844afea002",slot:"header",id:"modal-title"},this.langTasks.detailFailedOIDs,this.job.resultInfo&&this.job.resultInfo.failedObjectIds&&this.job.resultInfo.failedObjectIds.length?" ("+this.job.resultInfo.failedObjectIds.length+") ":""),e("div",{key:"9469ea945350c608d1dbea86b82fa3afe26ddac7",slot:"content"},e("div",{key:"2f739d25309cc144f1a85c2031fd6facd50485b3",class:"error-table-outter",style:{maxHeight:`${this.errorModalMaxHeight}`,overflow:"auto"}},this.job&&this.job.failedInfo&&this.job.failedInfo.length?e("table",{class:"table table-striped table-bordered error-table"},e("thead",null,e("tr",null,e("th",{class:"objectId-td",style:{width:`${this.maxFailedOIDLength+16}px`}},this.langTasks.detailFailedOIDs),e("th",null,this.langTasks.detailStatusMsg))),e("tbody",null,this.job.failedInfo.map((t=>e("tr",null,e("td",null,e("div",{class:"objectId-td",style:{width:`${this.maxFailedOIDLength}px`}},t.objectIds)),e("td",null,e("div",{class:"message",innerHTML:this.utilService.parseMarkdown(t.messages)}))))))):""))),e("slot",{key:"67699058b0493e01f0d020a75264ace240666df8"}))}get modal(){return o(this)}};i.style=l;const h=":host{display:block}:host .error-table-outter{width:100%;overflow:auto}:host .table{width:100%;max-width:100%;margin-bottom:20px;border-spacing:0;border-collapse:collapse}:host .table>thead>tr>th,:host .table>tbody>tr>th,:host .table>tfoot>tr>th,:host .table>thead>tr>td,:host .table>tbody>tr>td,:host .table>tfoot>tr>td{padding:8px;line-height:1.42857143;vertical-align:top;border-top:1px solid #dddddd}:host .table-bordered>thead>tr>th,:host .table-bordered>tbody>tr>th,:host .table-bordered>tfoot>tr>th,:host .table-bordered>thead>tr>td,:host .table-bordered>tbody>tr>td,:host .table-bordered>tfoot>tr>td{border:1px solid #dddddd}:host .table>thead>tr>th{vertical-align:bottom;border-bottom:2px solid #dddddd}:host .table-bordered{border:1px solid #ddd}:host .error-table{margin-bottom:0;table-layout:fixed}:host .error-table .objectId-td{width:120px;max-width:254px;overflow:hidden;word-wrap:break-word}:host .error-table .message{max-width:560px;overflow:auto;word-wrap:break-word}";const b=h;const c=class{constructor(e){t(this,e);this.job=undefined;this.open=undefined}componentWillLoad(){return Promise.resolve(true).then((()=>{const t=a.getService().getTranslateSync();const e=t.customPrint.recentTasks;this.langTasks=e;this.langCommon=t.common}))}render(){return e(d,{key:"ae3fe28b2e65fa5c1cecb4c67012ae40461c54d6"},e("calcite-modal",{key:"01ba839a077cd65e65bcb428b07f52ef0a5a9d19",open:this.open,onCalciteModalClose:()=>{this.open=false},"aria-labelledby":"modal-title",id:"example-modal"},e("div",{key:"d4707e7fd8bcb766ecd11dbc528911be2b3efa2a",slot:"header",id:"modal-title"},this.langTasks.detailSucceededOIDs,this.job.resultInfo&&this.job.resultInfo.succeededObjectIds&&this.job.resultInfo.succeededObjectIds.length?" ("+this.job.resultInfo.succeededObjectIds.length+") ":""),e("div",{key:"15db7a7c34fec0cc4b6dd05348a8fa3227e23e18",slot:"content"},e("div",{key:"473645a8391ac27ac19569361263c9dd98eeacd0",class:"error-table-outter",style:{maxHeight:`${this.errorModalMaxHeight}`}},this.job&&this.job.resultInfo&&this.job.resultInfo.succeededObjectIds&&this.job.resultInfo.succeededObjectIds.length?e("table",{class:"table table-striped table-bordered error-table"},e("tbody",null,e("tr",null,e("td",null,e("div",{class:"message",style:{maxWidth:"720px"}},this.job.resultInfo.succeededObjectIds))))):""))),e("slot",{key:"4f706644c22334fb432ac77dc7944f8d9606f56b"}))}get modal(){return o(this)}};c.style=b;export{i as error_detail_modal,c as success_detail_modal};
//# sourceMappingURL=p-5962d393.entry.js.map
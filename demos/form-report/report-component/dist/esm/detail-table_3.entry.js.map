{"file":"detail-table.report-icon.task-info.entry.js","mappings":"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","names":[],"sources":["src/components/task-list/detail-table/detail-table.scss?tag=detail-table&encapsulation=shadow","src/components/task-list/detail-table/detail-table.tsx","src/components/ui/report-icon/report-icon.scss?tag=report-icon&encapsulation=shadow","src/components/ui/report-icon/report-icon.tsx","src/components/task-list/task-info/task-info.scss?tag=task-info&encapsulation=shadow","src/components/task-list/task-info/task-info.tsx"],"sourcesContent":[":host {\n  display: block;\n  calcite-table {\n    width: 100%;\n  }\n  calcite-table-cell {\n    .max-tow-lines {\n      word-wrap: break-word;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      display: -webkit-box;\n      -webkit-box-orient: vertical;\n      -webkit-line-clamp: 2;\n      max-height: 40px;\n      margin-bottom: 5px;\n    }\n    .more-details{\n      margin-bottom: 0px;\n      text-decoration: underline;\n      cursor: pointer;\n    }\n\n  }\n  table {\n    width: 100%;\n    margin-bottom: 0px;\n    tr {\n      border-top: 1px solid #EFF0F5;\n      &:nth-child(2n+1) {\n        background-color: #F9FBFE;\n      }\n      td {\n        border: none;\n        padding: 6px 5px;\n        >div {\n          // max-width: 300px;\n          word-wrap: break-word;\n        }\n\n        .max-tow-lines {\n          word-wrap: break-word;\n          overflow: hidden;\n          text-overflow: ellipsis;\n          display: -webkit-box;\n          -webkit-box-orient: vertical;\n          -webkit-line-clamp: 2;\n          max-height: 40px;\n          margin-bottom: 5px;\n        }\n        .more-details{\n          margin-bottom: 0px;\n          cursor: pointer;\n        }\n\n        &:first-child {\n          padding-left: 30px;\n          max-width: 120px;\n          vertical-align: top;\n\n          // :host-context(html[dir='rtl']) & {\n          //   padding-right: 30px;\n          //   padding-left: unset;\n          // }\n        }\n\n        a {\n          cursor: pointer;\n          // color: $color-green-forest;\n          text-decoration: underline;\n          // font-weight: $font-weight5;\n        }\n      }\n    }\n  }\n}\n\n:host-context([dir=\"rtl\"]) {\n  table tr td:first-child{\n    padding-right: 30px;\n    padding-left: unset !important;\n  }\n}\n","import { Component, Host, Element, State, Prop, h } from '@stencil/core';\nimport { TranslateService } from '../../../services/translate.service';\nimport { UtilService } from '../../../services/util.service';\n\n@Component({\n  tag: 'detail-table',\n  styleUrl: 'detail-table.scss',\n  shadow: true,\n})\nexport class ReportDetailTable {\n  @Prop() job: any;\n  @State() errorMsg: string;\n  @Element() host: HTMLElement;\n  private langTasks: any;\n\n  public statusI18nConfig: any;\n\n  componentWillLoad() {\n    const utilService: UtilService = UtilService.getService();\n    this.errorMsg = utilService.parseMarkdown(this.job.messages&&this.job.messages.length?this.job.messages.join('<br>'):'');\n    return Promise.resolve(true)\n    // .then(() => {\n    //   return TranslateService.getService().getTranslate();\n    // })\n    .then(() => {\n      const res = TranslateService.getService().getTranslateSync();\n      const langTasks = res?.customPrint?.recentTasks;\n      this.langTasks = langTasks;\n      this.statusI18nConfig = {\n        esriJobWaiting: langTasks.jobStatusWaiting,\n        esriJobSubmitted: langTasks.jobStatusSubmitted,\n        esriJobExecuting: langTasks.jobStatusExecuting,\n        esriJobSucceeded: langTasks.jobStatusSucceeded,\n        esriJobFailed: langTasks.jobStatusFailed,\n        pdfConverting: langTasks.pdfConverting,\n        pdfConverted: langTasks.pdfConverted,\n        dfConvertFailed: langTasks.dfConvertFailed\n      };\n    })\n\n  }\n\n  public getPercentage(p) {\n    const utilService: UtilService = UtilService.getService();\n    return utilService.getPercentage(this.job, p);\n  }\n\n  /**\n   * open the error detailed modal\n   */\n  private errorDetailModalOpen() {\n    const modal = this.host.shadowRoot?.querySelector('.error-modal');\n    (modal as any).open = true;\n  }\n\n  /**\n   * open the success detailed modal\n   */\n  private succeedDetailModalOpen() {\n    const modal = this.host.shadowRoot?.querySelector('.success-modal');\n    (modal as any).open = true;\n  }\n\n\n  render() {\n    return (\n      <Host>\n        <calcite-table caption=\"job details\" striped>\n            <calcite-table-row>\n                <calcite-table-cell>{this.langTasks.detailJobID}</calcite-table-cell>\n                <calcite-table-cell>{this.job.jobId}</calcite-table-cell>\n            </calcite-table-row>\n            <calcite-table-row>\n                <calcite-table-cell>{this.langTasks.detailStatus}</calcite-table-cell>\n                <calcite-table-cell>\n                <div>\n                  <span>{this.statusI18nConfig[this.job.jobStatus]}</span>\n                  {this.job.jobStatus=='esriJobPartialSucceeded'&&this.job.resultInfo.totalCount ? \n                    <span>{this.langTasks.jobStatusPartialSucceeded.replace('${$completedPercent}', `${this.getPercentage(1-this.job.resultInfo.failedObjectIds.length/this.job.resultInfo.totalCount)}`)}\n                    </span>: ''\n                  }\n                </div>\n              </calcite-table-cell>\n            </calcite-table-row>\n            <calcite-table-row>\n                <calcite-table-cell>{this.langTasks.detailStatusMsg}</calcite-table-cell>\n                <calcite-table-cell>\n                  <div innerHTML={this.errorMsg} title={this.errorMsg}>\n                  </div>\n                </calcite-table-cell>\n            </calcite-table-row>\n            <calcite-table-row>\n                <calcite-table-cell>{this.langTasks.detailFailedOIDs} {( this.job.resultInfo&&this.job.resultInfo.failedObjectIds&&this.job.resultInfo.failedObjectIds.length ? ' (' + this.job.resultInfo.failedObjectIds.length + ') ' : '' ) }</calcite-table-cell>\n                <calcite-table-cell>\n                  {this.job.resultInfo&&this.job.resultInfo.failedObjectIds&&this.job.resultInfo.failedObjectIds.length ?\n                    <div>\n                      <p class=\"max-tow-lines\" title={this.job.resultInfo.failedObjectIds.join(',')}>\n                        {this.job.resultInfo.failedObjectIds.join(',')}\n                      </p>\n                        \n                      {this.job.resultInfo.details&&this.job.resultInfo.details.length ? \n                        <p class=\"more-details\">\n                          <a onClick={() => this.errorDetailModalOpen()}>{this.langTasks.detailMoreDetails}</a>\n                        </p> : ''\n                      }\n                  </div>\n                  : ''\n                }\n              </calcite-table-cell>\n            </calcite-table-row>\n            <calcite-table-row>\n                <calcite-table-cell>{this.langTasks.detailSucceededOIDs} {this.job.resultInfo&&this.job.resultInfo.succeededObjectIds&&this.job.resultInfo.succeededObjectIds.length?this.job.resultInfo.succeededObjectIds.length:''}</calcite-table-cell>\n                <calcite-table-cell>\n                  {this.job.resultInfo&&this.job.resultInfo.succeededObjectIds&&this.job.resultInfo.succeededObjectIds.length ? \n                    <div>\n                      <p class=\"max-tow-lines\" title={this.job.resultInfo.succeededObjectIds.join(',')}>\n                        {this.job.resultInfo.succeededObjectIds.join(',')}</p>\n                      <p class=\"more-details\">\n                        <a onClick={() => this.succeedDetailModalOpen()}>{this.langTasks.detailMoreDetails}</a>\n                      </p>\n                    </div>: ''\n                  }\n                </calcite-table-cell>\n            </calcite-table-row>\n        </calcite-table>\n\n        {/* <table class=\"table table-striped\">\n          <tr>\n            <td>{this.langTasks.detailJobID}</td>\n            <td>\n              <div>{this.job.jobId}</div>\n            </td>\n          </tr>\n          <tr>\n            <td>{this.langTasks.detailStatus}</td>\n            <td>\n              <div>\n                <span>{this.statusI18nConfig[this.job.jobStatus]}</span>\n                {this.job.jobStatus=='esriJobPartialSucceeded'&&this.job.resultInfo.totalCount ? \n                  <span>{this.langTasks.jobStatusPartialSucceeded.replace('${$completedPercent}', `${this.getPercentage(1-this.job.resultInfo.failedObjectIds.length/this.job.resultInfo.totalCount)}`)}\n                  </span>: ''\n                }\n              </div>\n            </td>\n          </tr>\n          <tr>\n            <td>{this.langTasks.detailStatusMsg}</td>\n            <td>\n              <div title={this.errorMsg} innerHTML={this.errorMsg}></div>\n            </td>\n          </tr>\n          <tr>\n            <td>\n              {this.langTasks.detailFailedOIDs} {( this.job.resultInfo&&this.job.resultInfo.failedObjectIds&&this.job.resultInfo.failedObjectIds.length ? ' (' + this.job.resultInfo.failedObjectIds.length + ') ' : '' ) }\n            </td>\n            <td>\n              {this.job.resultInfo&&this.job.resultInfo.failedObjectIds&&this.job.resultInfo.failedObjectIds.length ?\n                  <div>\n                    <p class=\"max-tow-lines\" title={this.job.resultInfo.failedObjectIds.join(',')}>\n                      {this.job.resultInfo.failedObjectIds.join(',')}\n                    </p>\n                      \n                    {this.job.resultInfo.details&&this.job.resultInfo.details.length ? \n                      <p class=\"more-details\">\n                        <a onClick={() => this.errorDetailModalOpen()}>{this.langTasks.detailMoreDetails}</a>\n                      </p> : ''\n                    }\n                </div>\n                : ''\n              }\n            </td>\n          </tr>\n          <tr>\n            <td>\n              {this.langTasks.detailSucceededOIDs} {this.job.resultInfo&&this.job.resultInfo.succeededObjectIds&&this.job.resultInfo.succeededObjectIds.length?this.job.resultInfo.succeededObjectIds.length:''}\n            </td>\n            <td>\n            {this.job.resultInfo&&this.job.resultInfo.succeededObjectIds&&this.job.resultInfo.succeededObjectIds.length ? \n              <div>\n                <p class=\"max-tow-lines\" title={this.job.resultInfo.succeededObjectIds.join(',')}>\n                  {this.job.resultInfo.succeededObjectIds.join(',')}</p>\n                <p class=\"more-details\">\n                  <a onClick={() => this.succeedDetailModalOpen()}>{this.langTasks.detailMoreDetails}</a>\n                </p>\n              </div>: ''\n            }\n\n            </td>\n          </tr>\n        </table> */}\n\n\n        <error-detail-modal class=\"error-modal\" job={this.job}></error-detail-modal>\n\n        <success-detail-modal class=\"success-modal\" job={this.job}></success-detail-modal>\n        <slot></slot>\n      </Host>\n    );\n  }\n\n}\n",":host {\n  display: block;\n}\n","import { Component, Host, h, getAssetPath, Prop, State } from '@stencil/core';\nimport { UtilService } from '../../../services/util.service';\n\n@Component({\n  tag: 'report-icon',\n  styleUrl: 'report-icon.scss',\n  shadow: true,\n})\nexport class ReportIcon {\n\n  @Prop() icon: any;\n  @Prop() size: any;\n\n  @State() pathData: any;\n\n  componentWillLoad() {\n    this.fetchIcon().then((res) => {\n      this.pathData = res;\n    })\n  }\n\n  fetchIcon() {\n    const utils: UtilService = UtilService.getService();\n    return Promise.resolve(true)\n    .then(() => {\n      if (utils.getSvgCache(this.icon)) {\n        return utils.getSvgCache(this.icon);\n      } \n      return fetch(getAssetPath(`./assets/icons/${this.icon}.svg`))\n        .then((resp) => {\n          if (!resp.ok) {\n            throw new Error(\"could not get the icon file:\");\n          }\n          return resp.text();\n        })\n      }).then((str) => {\n        utils.setSvgCache(this.icon, str);\n        const div = document.createElement('div');\n        div.innerHTML = str;\n        if (this.size) {\n          div.querySelector('svg').setAttribute('width', this.size);\n          div.querySelector('svg').setAttribute('height', this.size);\n        }\n        return div.innerHTML;\n      })\n  }\n\n  render() {\n    return (\n      <Host>\n        <i innerHTML={this.pathData} >\n        </i>\n        <slot></slot>\n      </Host>\n    );\n  }\n\n}\n",":host {\n  --calcite-dropdown-width: 260px;\n  $color-green-forest: #31872E;\n  $color-green-parsley: #206A1E;\n  $color-green-york: #99CA8F;\n  $color-green-tusk: #DFF7D0;\n  $color-green-moss: #B9DAA5;\n  $color-green-surf: #B8DCC6;\n  $color-green-edgewater: #B7DCC7;\n  $color-green-deYork: #7BC58F;\n  $color-green-shamrock: #3CC98D;\n  $color-green-smoke: #ABB27B;\n  $color-green-deco: #C9D479;\n  $color-green-sprout: #B9D9A5;\n  $color-green-parsley: #165A13;\n  $color-green-limeade: #6EA400;\n  $color-green-sushi: #72BC3A;\n  $color-white: #ffffff;\n  $color-white-ice:#DBF2F9;\n  $color-white-ice2:#E1F7FA;\n  $color-white-smoke:#F6F6F6;\n  $color-white-lilac:#E6EAF6;\n  $color-black: #000000;\n  $color-black-haze:#F7F8F8;\n  $color-shark:#2E2F30;\n  $color-jumbo:#838388;\n  $color-gray-emperor:#505050;\n  $color-gray-mine-shaft:#333333;\n  $color-gray-dove: #666666;\n  $color-gray-dusty: #999999;\n  $color-gray-alto: #CFCFCF;\n  $color-gray-iron: #F7F8F8;\n  $color-gray-gallery: #EEEEEE;\n  $color-gray-god: #161616;\n  $color-gray-mercury: #E8E8E8;\n  $color-gray-porcelain: #E6E8EA;\n  $color-gray-haze: #EDF0F0;\n  $color-gray-alabaster: #F9FAFA;\n  $color-gray-squeeze: #ECF4F8;\n  $color-gray-waterloo: #858590;\n  $color-gray-wildSand: #F4F4F4;\n  $color-gray-concrete: #F2F2F2;\n  $color-gray-athens:#EFF0F5;\n  $color-gray-french: #BABDC9;\n  $color-gray-selago: #F5F7FD;\n  $color-gray-dusty : #979797;\n  $color-blue-allPorts: #007D9F;\n  $color-blue-linkWater: #ADDEEC;\n  $color-blue-blizzardBlue: #add7f0;\n  $color-blue-eastern: #1C99BC;\n  $color-blue-Science: #0072DE;\n  $color-blue-spindle: #C8E5EF;\n  $color-blue-lochinvar: #2A8A91;\n  $color-blue-fountainBlue: #51B4BB;\n  $color-blue-halfBaked: #7FCACB;\n  $color-blue-breakerBay: #6CACAC;\n  $color-blue-iceberg: #E1F0F5;\n  $color-blue-jaggedIce:#C7E3EC;\n  $color-blue-havelock: #4A90E2;\n  $color-blue-Lochmara:#0079c1;\n  $color-blue-bahamaBlue: #005e95;\n  $color-blue-lilyWhite: #EAFAFF;\n  $color-blue-matisse:#14728D;\n  $color-red-flamePea: #D65940;\n  $color-red-potPourri: #F7EBE8;\n  $color-red-terracotta: #E06D56;\n  $color-red-falcon: #755465;\n  $color-red-wewak: #F59C9B;\n  $color-red-salmon: #FF7877;\n  $color-red-thunderbird: #BE3B20;\n  $color-orange-cashmere: #E4C0A3;\n  $color-orange-orangeRoughy: #CC5316;\n  $color-orange-fieryOrange: #A34211;\n  $color-orange-meteor: #BC7610;\n  $color-orange-flush: #FF8000;\n  $color-orange-tangelo: #F5A118;\n  $color-yellow-equator: #DFA95B;\n  $color-yellow-grandis: #FFD682;\n  $color-yellow-dixie: #E5A71C;\n  $color-yellow-butterCup: #F5A017;\n  $color-yellow-peachCream: #FFF1DD;\n  $color-yellow-lemon: #F8E71C;\n  $color-blue-cornflower :#66AFE9;\n  $color-cyan-water :#C9E6EF;\n  $font-weight3: 300;\n  $font-weight4: 400;\n  $font-weight5: 500;\n  $font-weight6: 600;\n  $font-weight7: 700;\n  $font-weight8: 800;\n  * {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n  }\n  p {\n    padding-top: 0;\n    margin: 0 0 10px;\n  }\n  display: block;\n  .root {\n    border-radius: 2px;\n    // .helper {\n    //   width: 0;\n    //   height: 0;\n    //   overflow: hidden;\n    //   visibility: hidden;\n    //   div {\n    //     width: 9999px;\n    //   }\n    //   span {\n    //     padding: 8px;\n    //   }\n    // }\n\n    .header {\n      // font-size: $font-size2;\n      // color: $color-black;\n      font-weight: $font-weight6;\n      display: flex;\n      align-items: center;\n      p {\n        word-break: break-word;\n      }\n      calcite-icon{\n        margin: 0 4px;\n        top: 4px;\n        position: relative;\n      }\n    }\n\n    .job-info {\n      // border:  $border-style;\n      position: relative;\n      padding: 10px;\n      border-radius: 2px;\n\n      &.hasDetail {\n        border-bottom-left-radius: 0;\n        border-bottom-right-radius: 0;\n      }\n\n      .status-icon {\n        position: absolute;\n        top: 14px;\n        left: 10px;\n\n        // :host-context(html[dir='rtl']) & {\n        //   left: unset;\n        //   right: 10px;\n        // }\n      }\n\n      .detail {\n        width: 100%;\n        padding-left: 24px;\n\n        // :host-context(html[dir='rtl']) & {\n        //   padding-right: 24px;\n        //   padding-left: unset;\n        // }\n\n        .header {\n          padding-right: 40px;\n\n          display: block;\n          word-break: break-word;\n          // :host-context(html[dir='rtl']) & {\n          //   padding-right: unset;\n          //   padding-left: 40px;\n          // }\n\n          ::ng-deep {\n            i {\n              display: inline;\n              position: relative;\n              top: 3px;\n            }\n          }\n        }\n\n        .icon-area {\n          position: absolute;\n          top: 10px;\n          right: 10px;\n\n          // :host-context(html[dir='rtl']) & {\n          //   left: 10px;\n          //   right: auto;\n          // }\n          a {\n            width: 16px;\n            text-align: center;\n            display: inline-block;\n            margin: 0 5px;\n            color: var(--calcite-color-text-2);\n            &:last-child {\n              margin-right: 0;\n              // :host-context(html[dir='rtl']) & {\n              //   margin-left: 0;\n              //   margin-right: 5px;\n              // }\n            }\n            &.isloading {\n              cursor: default;\n              i {\n                cursor: default;\n              }\n            }\n          }\n          a.disabled {\n            cursor: not-allowed;\n\n            i {\n              cursor: not-allowed;\n\n              ::ng-deep {\n                svg path {\n                  fill-opacity: 0.6;\n                }\n              }\n            }\n          }\n\n          // display: none;\n          i {\n            cursor: pointer;\n\n            &.download-icon {\n              // margin-right: 10px;\n\n              // :host-context(html[dir='rtl']) & {\n              //   margin-left: 10px;\n              //   margin-right: unset;\n              // }\n              &::ng-deep {\n                .spinner .icon-spin{\n                  margin-left: 0;\n                  margin-right: 0;\n                }\n            }\n            &.spinner {\n              position: relative;\n              top: -2px;\n            }\n            }\n            ::ng-deep {\n              i {\n                line-height: 0;\n              }\n            }\n          }\n          .menu-item {\n            display: flex;\n            justify-content: space-between;\n            align-items: center;\n            width: 224px;\n            margin-left: -12px;\n            // min-width: 200px;\n            // max-width: 400px;\n            >a {\n              // padding-right: 60px;\n              width: calc(100% - 60px); //100%;\n              text-align: left;\n              display: inline-block;\n              white-space: nowrap;\n              overflow: hidden;\n              text-overflow: ellipsis;\n            }\n\n            >span {\n              // position: absolute;\n              right: 10px;\n            }\n          }\n\n          // .multilple-file-container {\n          //   position: absolute;\n          //   max-width: 400px;\n          //   max-height: 200px;\n          //   min-width: 200px;\n          //   left: unset;\n          //   right: 0;\n          //   border-radius: 2px;\n          //   overflow: auto;\n\n          //   div {\n          //     line-height: 40px;\n          //     height: 40px;\n\n          //     >a {\n          //       padding-right: 60px;\n          //       width: 100%;\n          //       display: inline-block;\n          //       white-space: nowrap;\n          //       overflow: hidden;\n          //       text-overflow: ellipsis;\n          //     }\n\n          //     >span {\n          //       position: absolute;\n          //       right: 10px;\n          //     }\n          //   }\n\n          //   li>a {\n          //     padding: 0px 10px;\n          //     // font-weight: $font-weight4;\n          //   }\n          // }\n        }\n\n        .middle-line {\n          overflow: hidden;\n\n          .records {\n            width: 42%;\n            float: inline-start;\n          }\n\n          .startTime {\n            width: 55%;\n            float: inline-end;\n            text-align: right;\n\n            // :host-context(html[dir='rtl']) & {\n            //   text-align: left;\n            // }\n          }\n        }\n\n        .status {\n          display: flex;\n          justify-content: space-between;\n          margin-bottom: 0px;\n          >span {\n            width: 58%;\n            display: inline-block;\n          }\n\n          a.job-detail-link {\n            width: 35%;\n            margin-left: 5%;\n            cursor: pointer;\n            // color: $color-green-forest;\n            text-decoration: underline;\n            text-align: right;\n            display: inline-flex;\n            justify-content: flex-end;\n            align-items: center;\n\n            // :host-context(html[dir='rtl']) & {\n            //   margin-right: 5%;\n            //   margin-left: unset;\n            // }\n\n            &.job-detail-pending {\n              // color: #000000;\n              cursor: default;\n              text-decoration: none;\n\n              i.icon-spin {\n                // display: table-cell;\n                // line-height: 0;\n                // position: relative;\n                // top: 7px;\n                margin-left: 2px;\n\n                // :host-context(html[dir='rtl']) & {\n                //   margin-left: unset;\n                //   margin-right: 2px;\n                // }\n\n                .spinner{\n                  position: relative;\n                  top: -7px;            \n                }\n              }\n            }\n          }\n        }\n\n        .confirm-delete-anchor,.cancel-delete-anchor {\n          // color: $color-black;\n          cursor: pointer;\n          text-decoration: underline;\n        }\n        .cancel-delete-anchor {\n          margin-left: 20px;\n          // :host-context(html[dir='rtl']) & {\n          //   margin-left: auto;\n          //   margin-right: 20px;\n          // }\n        }\n      }\n    }\n\n    .job-detail {\n      // border: $border-style;\n      border-top: none;\n      border-top-left-radius: 0;\n      border-top-right-radius: 0;\n      position: relative;\n      border-radius: 2px;\n    }\n\n    &:hover {\n      .job-info .detail .icon-area {\n        display: block;\n      }\n    }\n\n    // modal\n    ::ng-deep {\n      .modal-body {\n        padding: 0;\n\n\n      }\n    }\n\n  }\n}\n\n:host-context([dir=\"rtl\"]) {\n  .job-info {\n    .status-icon {\n      left: unset!important;\n      right: 10px;\n    }\n  }\n  .detail{\n    padding-right: 24px;\n    padding-left: unset!important;\n    .header {\n      padding-right: unset!important;\n      padding-left: 40px;\n    }\n    .icon-area {\n      left: 10px;\n      right: auto !important;\n      a:last-child {\n        margin-left: 0;\n        margin-right: 5px;\n      }\n    }\n\n    .middle-line {\n      .startTime {\n        text-align: left;\n      }\n    }\n    .status {\n      a.job-detail-link {\n        margin-right: 5%;\n        margin-left: unset!important;\n        &.job-detail-pending {\n          i.icon-spin {\n            margin-left: unset!important;\n            margin-right: 2px;\n          }\n        }\n      }\n    }\n    .cancel-delete-anchor {\n      margin-left: auto!important;\n      margin-right: 20px;\n    }\n  }\n}","import { Component, Fragment, Host, Element, Prop, State,  h, Event, EventEmitter } from '@stencil/core';\nimport { TranslateService } from '../../../services/translate.service';\nimport { UtilService } from '../../../services/util.service';\nimport { ReportService } from '../../../services/report.service';\n// import { PropsService } from '../../../services/props.service';\nimport { StateService } from '../../../services/state.service';\n\n@Component({\n  tag: 'task-info',\n  styleUrl: 'task-info.scss',\n  shadow: true,\n})\nexport class ReportTaskInfo {\n  @Prop() job: any;\n  @Prop() showDetail: string;\n  @Prop() detailedStatus: string;\n  @Prop() detailedStatusEle: string;\n\n  @State() isWaitingToConfirmRemove: boolean;\n  @State() isRemoving: boolean;\n  @State() isCanceling: boolean;\n  @Event() jobRemoved: EventEmitter<any>;\n  \n  @Element() host: HTMLElement;\n  \n  public isRTL: boolean = false;\n  public jobId: string;\n  private langTasks: any;\n  private langCommon: any;\n  // private helperSpan: HTMLElement;\n\n  public statusI18nConfig: any;\n  public maxFailedOIDLength = 120;\n  private utils: UtilService = UtilService.getService();\n  private reportService: ReportService = ReportService.getService();\n  private stateService: StateService = StateService.getService();\n\n  // todo: should show basic info first, then get the detail\n  componentWillLoad() {\n    this.jobId = this.job?.jobId;\n    return Promise.resolve(true)\n    // .then(() => {\n    //   return TranslateService.getService().getTranslate();\n    // })\n    .then(() => {\n      const res = TranslateService.getService().getTranslateSync();\n      const langTasks = res?.customPrint.recentTasks;\n      this.langCommon = res?.common;\n      this.langTasks = langTasks;\n      this.statusI18nConfig = {\n        esriJobWaiting: langTasks.jobStatusWaiting,\n        esriJobSubmitted: langTasks.jobStatusSubmitted,\n        esriJobExecuting: langTasks.jobStatusExecuting,\n        esriJobSucceeded: langTasks.jobStatusSucceeded,\n        esriJobFailed: langTasks.jobStatusFailed,\n        pdfConverting: langTasks.pdfConverting,\n        pdfConverted: langTasks.pdfConverted,\n        dfConvertFailed: langTasks.dfConvertFailed\n      };\n      this.stateService.subscribe('job-updated', (data) => {\n        if (data?.jobId === this.job?.jobId) {\n          this.job = {...data};\n          this.jobId = this.job?.jobId;\n          this.updateJobStatusString();\n        }\n      })\n      return true;\n    }).then(() => {\n      // do not add \"return\" here, otherwise the component will not render until status request finished.\n      this.reportService.checkJobDetails(this.job).then(() => {\n        this.jobId = this.job?.jobId;\n        this.detailedStatus = this.job.jobStatusInfo?.detailedStatus;\n        this.updateJobStatusString();\n        return this.job;\n      })\n    });\n\n  }\n\n  public getPercentage(p) {\n    const utilService: UtilService = UtilService.getService();\n    return utilService.getPercentage(this.job, p);\n  }\n\n  public updateJobStatusString() {\n    this.detailedStatus = this.job.jobStatusInfo?.detailedStatus;\n    const i18nMapping = {\n      preparing: 'jobStatusPrinting',\n      'printing,printed,printFailed': 'jobStatusPrinting',\n      'pdfConverting,pdfConverted,pdfConvertFailed': 'jobStatusConverting',\n      'merging': 'jobStatusMerging',\n      'packaging,packaged,packageFailed': 'jobStatusPackaging',\n      'uploading,uploadFailed': 'jobStatusUploading'\n    };\n    const matchedKey = Object.keys(i18nMapping).find((key) => {\n      return key.split(',').indexOf(this.detailedStatus) >= 0;\n    })\n    const i18nStr = this.langTasks[i18nMapping[matchedKey]] || '';\n    if (!this.job.jobStatus) {\n      this.detailedStatusEle ='';\n    }\n    if (['esriJobWaiting','esriJobSubmitted','esriJobExecuting'].indexOf(this.job.jobStatus) > -1) {\n      if (this.job.jobStatus=='esriJobExecuting' && this.job.jobStatusInfo && this.detailedStatus) {\n        const progress = this.detailedStatus === 'preparing' ? 0 : null\n        const progressPercent = this.getPercentage(progress);\n        this.detailedStatusEle = <span>{i18nStr.replace('${$completedPercent}', `${progressPercent}`)}</span>;\n      }\n    } else {\n      if (this.job.jobStatus=='esriJobExecuting' && (!this.job.jobStatusInfo || !this.detailedStatus)) {\n        this.detailedStatusEle = <span>{this.langTasks.jobStatusPrinting}</span>;\n      } else {\n        this.detailedStatusEle = <span>{this.statusI18nConfig[this.job.jobStatus]}</span>;\n      }\n    }\n  }\n\n  public getDuration(start, end, cancelled?) {\n    const hourUnit = this.langCommon.timeUnitHour;\n    const miniUnit = this.langCommon.timeUnitMinute;\n    const secUnit = this.langCommon.timeUnitSecond;\n    let duration = '';\n    if (!end && cancelled) {\n      end = cancelled;\n    }\n    const miliSecond = end - start;\n    if (miliSecond > 0) {\n      const seconds = Math.round(miliSecond / 1000);\n      const hours = Math.floor(seconds / 3600);\n      const minus = Math.floor((seconds % 3600) / 60);\n      const sec = seconds % 60;\n      if (hours > 0) {\n        duration += hours + hourUnit + ' ';\n      }\n      if (minus > 0 || hours > 0) {\n        duration += minus + miniUnit + ' ';\n      }\n      duration += sec + secUnit;\n    }\n    return duration;\n  }\n\n  public showDetailHandler() {\n    if (!this.job.resultInfo?.resultFiles && !this.job.resultInfo?.details) {\n      this.showDetail = 'pending';\n      this.reportService.checkJobStatus(this.job.jobId).then((statusObj) => {\n        // this.state.trigger('report-updateJobDetail', statusObj);\n        // this.updateFailedOIDlength(statusObj);\n        this.job = statusObj;\n        this.jobId = this.job.jobId;\n        this.showDetail = 'done';\n        // this.showDetail();\n      });\n    } else {\n      // this.updateFailedOIDlength(this.job);\n      this.showDetail = 'done';\n      // this.showDetail();\n    }\n  }\n\n  public hideDetail() {\n    this.showDetail = '';\n  }\n\n  /**\n   * execute removing job\n   * @param job \n   */\n  public executeRemoveJob(job) {\n    // if (job._tempRuntime) {\n    //   delete this.isWaitingToConfirmRemove;\n    // }\n    // job._tempRuntime = job._tempRuntime || {};\n    this.isWaitingToConfirmRemove = false;\n    this.isRemoving = true;\n    // https://devtopia.esri.com/Beijing-R-D-Center/feature-report/issues/239#issuecomment-3550777\n    this.reportService.removeJob(job.jobId).then((res) => {\n      if (!res || !res.success) {\n        console.log('Remove job failed', (res.error && res.error.details && res.error.details.length) ? res.error.details.join('.') : '');\n        this.reportService.showError({}, {errorStr: res.error?.message , detail:res.error?.detail, showDetails: !!res.error?.detail});\n        // this.alertService.setOption({\n        //   alertType: 'danger',\n        //   html: (res.error && res.error.message) ? res.error.message : 'Failed to remove the task.',\n        //   detail: (res.error && res.error.details && res.error.details.length) ? res.error.details.join('<br>') : ''\n        // }).show();\n      } else {\n        // this.state.trigger('report-remove-job', job);\n        // todo: tell the parent component to remove this job\n        // this.reportService.removeJobFromList(job);\n        this.jobRemoved.emit(job);\n        this.isWaitingToConfirmRemove = false;\n      }\n      this.isRemoving = false;\n    }).catch(() => {\n      // toto: use string to replace the hard coded 'Failed to remove the task.' in 3.16\n      // this.customReportService.showError(res, {errorStr: 'Failed to remove the task.', showDetails: true});\n      // this.alertService.setOption({\n      //   alertType: 'danger',\n      //   html: 'Failed to remove the task.',\n      //   detail: (res && res.error && res.error.message) ? res.error.message : ''\n      // }).show();      \n      this.isRemoving = false;\n\n    });  \n  }\n\n  /**\n   * cancel removing job\n   * @param job \n   */\n  public cancelRemoveJob() {\n    this.isWaitingToConfirmRemove = false;\n  }\n\n  /**\n   * remove job\n   * @param job \n   */\n  public startRemoveJob() {\n    this.isWaitingToConfirmRemove = true;\n  }\n\n  private startCancelJob(job) {\n    this.isCanceling = true;\n    // https://devtopia.esri.com/Beijing-R-D-Center/feature-report/issues/239#issuecomment-3550777\n    this.reportService.cancelJob(job.jobId).then((res) => {\n      if (!res || !res.success) {\n        console.log('Cancel job failed');\n        this.reportService.showError({}, {errorStr: res.error?.message , detail:res.error?.detail, showDetails: !!res.error?.detail});\n        // this.customReportService.showError(res, {errorStr: this.recentTasksString.cancelJobFailMsg, detail: ((res.error && res.error.details && res.error.details.length) ? res.error.details.join('<br>') : '')});\n      } else {\n        // success to cancel job\n        // this.state.trigger('report-cancel-job', job);\n        job.jobStatus = 'esriJobStatusCancelled';\n        job = {...job};\n      }\n      delete job._tempRuntime.isCanceling;\n    }).catch(() => {\n      // this.customReportService.showError(res, {errorStr: this.recentTasksString.cancelJobFailMsg, showDetails: true});\n      // this.alertService.setOption({\n      //   alertType: 'danger',\n      //   html: 'Failed to cancel the task.',\n      //   detail: (res && res.error && res.error.message) ? res.error.message : ''\n      // }).show();\n\n      this.isCanceling = false;\n    });\n  }\n\n  render() {\n    return (\n      <Host>\n        <calcite-card class={`root ${!this.job ? 'hidden' : ''} `}>\n\n          { this.job ? \n              <div class={`job-info ${this.showDetail ? 'hasDetail' : ''}`}>\n\n              <i class=\"status-icon\">\n                {/* executing start */}\n                {/* todo: show tooltip */}\n                {['esriJobWaiting','esriJobSubmitted','esriJobExecuting'].indexOf(this.job.jobStatus)>=0 ? <calcite-icon scale=\"s\" icon=\"hourglass-active\" text-label={this.statusI18nConfig[this.job.jobStatus]}></calcite-icon> : ''}\n                { this.job.jobStatus=='esriJobSucceeded' ? <report-icon icon=\"success\"></report-icon> : ''}\n                {/* { this.job.jobStatus=='esriJobSucceeded' ? <calcite-icon scale=\"s\" icon=\"check-circle\" text-label={this.langTasks.jobStatusSucceeded}></calcite-icon> : ''} */}\n                {/* todo: implement the partial succeed icon */}\n                { this.job.jobStatus=='esriJobPartialSucceeded' ? <report-icon icon=\"success-caveat\"></report-icon> : ''}\n                {/* { this.job.jobStatus=='esriJobPartialSucceeded' ? <calcite-icon scale=\"s\" icon=\"check-circle-f\" text-label={this.langTasks.jobStatusPartialSucceeded1}></calcite-icon> : ''} */}\n                { this.job.jobStatus=='esriJobStatusCancelled' ? <calcite-icon scale=\"s\" icon=\"circle-disallowed\" text-label={this.langTasks.jobStatusCanceled}></calcite-icon> : ''}\n                { this.job.jobStatus=='esriJobFailed' ? <calcite-icon scale=\"s\" icon=\"x-circle\" text-label={this.langTasks.jobStatusFailed}></calcite-icon> : ''}\n              </i>\n\n              <div class=\"detail\">\n                <p class=\"header\">\n                  { this.job.resultInfo ? this.job.resultInfo.title : ''}\n                  {/* todo: in the rtl layout, the icon should be flipped */}\n                  { this.job.inputInfo&&this.job.inputInfo.parameters&&this.job.inputInfo.parameters.outputFormat=='pdf' ? \n                  <calcite-icon scale=\"s\" icon={this.isRTL ? '' : 'file-pdf'} text-label=\"\"></calcite-icon> \n                  : <calcite-icon scale=\"s\" icon={this.isRTL ? '' : 'file-word'} text-label=\"\"></calcite-icon>}\n                </p>\n\n                { !(this.isWaitingToConfirmRemove) ? \n                  <p class=\"middle-line\">\n                    <span class=\"records\">{this.langTasks.records}{this.job.resultInfo&&this.job.resultInfo.totalCount?this.job.resultInfo.totalCount:''}</span>\n                    <span class=\"startTime\" title={this.utils.formatDateTime(this.job.submitted, 'datetime')}>{this.langTasks.started}{this.utils.formatDateTime(this.job.submitted, 'time')}</span>\n                  </p> : ''\n                }\n\n                { !(this.isWaitingToConfirmRemove) ? \n                  <p class=\"status\">\n                    { ['esriJobWaiting','esriJobSubmitted','esriJobExecuting'].indexOf(this.job.jobStatus) > -1 ? \n                      <span>{this.langTasks.status} {this.detailedStatusEle} </span>\n                      : \n                      <Fragment>\n                        { ['esriJobWaiting','esriJobSubmitted','esriJobExecuting'].indexOf(this.job.jobStatus) == -1 ?\n                          <span>\n                            {this.langTasks.duration} {this.getDuration(this.job.submitted, this.job.completed, this.job.cancelled)}\n                          </span> : ''\n                        }\n                      </Fragment>\n                    }\n                    \n                  { this.job.jobStatus=='esriJobPartialSucceeded'||this.job.jobStatus=='esriJobFailed' ? \n                    <Fragment>\n                      {!this.showDetail ? \n                        <a class=\"job-detail-link\"\n                          onClick={() => this.showDetailHandler()}>{this.langCommon.showDetails}</a>\n                        : ''\n                      }\n                      {this.showDetail=='pending' ? \n                        <a class=\"job-detail-link job-detail-pending\">\n                          {this.langCommon.loading}\n                          <i class=\"icon icon-spin disabled\">\n                            <calcite-loader label=\"\" inline=\"true\"></calcite-loader>\n                            {/* <survey123-ui-spinner class=\"spinner\" [iconColor]=\"'#666'\"></survey123-ui-spinner> */}\n                          </i>\n                        </a> : ''\n                      }\n\n                      {this.showDetail=='done' ?\n                        <a class=\"job-detail-link\"\n                        onClick={() => this.hideDetail()}>{this.langCommon.hideDetails}</a>\n                        : ''\n                      }\n\n                    </Fragment>\n                  : ''}\n                  </p> : \n                  <Fragment>\n                    {this.isWaitingToConfirmRemove ? \n                      <Fragment>\n                        <p>{this.langTasks.removeJobConfirm}</p>\n                        <p>\n                          <a class=\"confirm-delete-anchor\" onClick={() => this.executeRemoveJob(this.job)}>{this.langCommon.yes}</a>\n                          <a class=\"cancel-delete-anchor\" onClick={() => this.cancelRemoveJob()}>{this.langCommon.no}</a>\n                        </p>\n                      </Fragment> : ''\n                    }\n                  </Fragment>\n                }\n                {!this.isWaitingToConfirmRemove ? \n                  <div class=\"icon-area dropdown\">\n                   {/* url expired, cannot download */}\n                   {this.job.jobStatus=='esriJobSucceeded'&&this.job.urlExpired ? \n                    <a>\n                      <calcite-icon scale=\"s\" icon=\"download\" text-label=\"\" disabled id={this.jobId + '-disabled-btn'}></calcite-icon>\n                      <calcite-tooltip label={this.langTasks.downloadDisabledTip} reference-element={this.jobId + '-disabled-btn'}>\n                        <span>{this.langTasks.downloadDisabledTip}</span>\n                      </calcite-tooltip>\n                    </a>: ''\n                  }\n\n                  {/* download */}\n                  {(this.job.jobStatus=='esriJobSucceeded'||this.job.jobStatus=='esriJobPartialSucceeded')&&this.job.url&&!this.job.urlExpired&&!this.job.multipleFiles ?\n                    <a href={this.job.url}  title={this.langCommon.download} download target={this.job.inputInfo&&this.job.inputInfo.parameters&&this.job.inputInfo.parameters.outputFormat=='pdf'?'_blank':''}>\n                      <i class=\"download-icon\">\n                        <calcite-icon scale=\"s\" icon=\"download\" text-label=\"\"></calcite-icon>\n                      </i>\n                    </a>\n                    : ''\n                  }\n\n          \n                  {/* download multiple files */}\n                  {(this.job.jobStatus=='esriJobSucceeded'||this.job.jobStatus=='esriJobPartialSucceeded')&&this.job.multipleFiles&&!this.job.urlExpired ? \n                    <a class=\"dropdown-toggle\">\n                    <calcite-dropdown width=\"m\" placement=\"bottom-end\" type=\"click\">\n                      <i  slot=\"trigger\" class=\"download-icon\" data-toggle=\"dropdown\" role=\"button\" aria-haspopup=\"true\" aria-expanded=\"false\">\n                        <calcite-icon scale=\"s\" icon=\"download\" text-label=\"\"></calcite-icon>\n                      </i>\n                      {this.job.resultInfo.resultFiles.map((file) => {\n                          return <calcite-dropdown-item>\n                                  <div class=\"menu-item\">\n                                    <a href={file.url} title={file.name}>\n                                      <span class=\"left-text\">{file.name || ''}</span>\n                                    </a>\n                                    <span class=\"right-text\">{file.size || ''}</span>\n                                  </div>\n                                </calcite-dropdown-item>;\n                        })}\n                    </calcite-dropdown>\n                    </a> : ''  \n                  }\n\n          \n                  {/* cancel job, job can be cancled before uploading process */}\n                  { ['esriJobSubmitted', 'esriJobExecuting', 'esriJobWaiting'].indexOf(this.job.jobStatus)>=0 &&!(this.job.jobStatus=='esriJobExecuting'&&this.job.jobStatusInfo&&this.detailedStatus&&['uploading', 'uploadFailed', 'uploadSucceeded', 'usageSent', 'usageSentFailed', 'skipCharging'].indexOf(this.detailedStatus)>=0) ?\n                    <a class={this.isCanceling ? 'isloading' : ''} title={(this.isCanceling)?'':`${this.langTasks.cancelJobTip}`}>\n                      { !(this.isCanceling) ? \n                        <i class=\"download-icon\" onClick={() => this.startCancelJob(this.job)}>\n                          <calcite-icon scale=\"s\" icon=\"circle-stop\" text-label=\"\"></calcite-icon>\n                        </i>\n                        :\n                        <i class=\"download-icon spinner\">\n                          {/* todo: icon color is #666666 */}\n                          <calcite-loader label={this.langTasks.jobStatusCanceled} inline=\"true\"></calcite-loader>\n                        </i>\n                      }\n                    </a>\n                    : ''\n                  }\n\n                  {/* remove job */}\n                  { ['esriJobSucceeded', 'esriJobPartialSucceeded', 'esriJobFailed', 'esriJobStatusCancelled'].indexOf(this.job.jobStatus)>=0 ? \n                    <a class={this.isRemoving ? 'isloading' : ''} title={(this.isRemoving)?'':`${this.langTasks.removeJobTip}`}>\n                      {this.isRemoving}\n                      {!this.isRemoving ? \n                        <i class=\"download-icon\" onClick={() => this.startRemoveJob()}>\n                          <calcite-icon scale=\"s\" icon=\"trash\" ></calcite-icon>\n                        </i>\n                        :\n                        <i class=\"download-icon spinner\">\n                        {/* todo: icon color is #666666 */}\n                          <calcite-loader label=\"\" inline=\"true\"></calcite-loader>\n                        </i>\n                      }\n                    </a>\n                    : null\n                  }\n\n                </div> : ''\n                }\n                \n\n              </div>\n            </div> : ''\n          }\n          {this.job&&this.showDetail=='done' ? \n            <div class=\"job-detail\">\n              <detail-table job={this.job}></detail-table>\n            </div>\n            : ''\n          }\n\n          </calcite-card>\n        <slot></slot>\n      </Host>\n    );\n  }\n\n}\n"],"version":3}